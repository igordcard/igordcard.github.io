---
layout: post
comments: true
title: Sudden FPS drop in F.E.A.R (Logitech hardware)
date: '2013-01-26T18:54:00.001Z'
author: Igor Duarte Cardoso
tags:
- Gaming
- Windows
- FEAR
- devcon
modified_time: '2013-01-28T13:13:54.639Z'
thumbnail: http://4.bp.blogspot.com/-2n7PcuQUC5w/UQQmHoA_JfI/AAAAAAAAAUs/GkOPZcDJT2M/s72-c/fear2yn5.jpg
blogger_id: tag:blogger.com,1999:blog-7503515668102711213.post-591307955817412106
blogger_orig_url: http://igordcard.blogspot.com/2013/01/sudden-fps-drop-in-fear-logitech.html
---

Some users have noticed that they cannot play the game F.E.A.R. (or Condemned: Criminal Origins) with a high framerate, even though their machine is powerful enough for running 5 instances of the game simultaneously. Even weirder is the fact that the game will usually start with the correct framerate but will suddenly drop to 10-20 FPS, after some seconds or minutes. With such a low framerate, it gets difficult to play with pleasure.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="237" src="/assets/fear2yn5.jpg" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">You won't let Alma run away from you at 15 frames per second, will you?</td></tr></tbody></table><br /><a name='more'></a>If the user has Logitech hardware peripherals, then the source of the problem is already known among the community of players. However, the workarounds presented in every place I visited are far from being confortable to the user.<br /><br />In this post I present you a simple workaround for the problem that almost feels like a fix.<br /><br />According to this <a href="http://forums.steampowered.com/forums/showthread.php?t=1279444">link</a>, the problem lies in the fact that the game engine overpolls the USB I/O in Windows 7 when Logitech Human Interface Devices (HIDs) are connected to the computer. Some users have reported that disabling the Human Interface Device Access service is enough to fix this issue, but I could not reproduce it.<br /><br />The usual workaround is to disable all HIDs that belong to Logitech devices from the Windows Device Manager. When they are disabled, special controls like keyboards' volume up/down keys will not work anymore. So, if users make use of these controls they will need to keep enabling the HIDs after playing F.E.A.R.<br /><br /><b>The transparent workaround</b><br /><b><br /></b>I have created a simple batch script that automatically disables the HIDs and runs the game. Then, when the game quits, the script automatically enables the HIDs.<br /><br />There is only one requirement besides the actual script: the <code>devcon</code> command-line utility, though it can also be downloaded from this page.<br /><br /><b>Make it work</b><br /><b><br /></b>Download the following files:<br /><ol><li><b><a href="http://igordcard.googlecode.com/files/devcon-5.2.3790.0-32bit.zip">devcon (32-bit)</a> </b>or <a href="http://igordcard.googlecode.com/files/devcon-5.2.3790.1830-64bit.zip" style="font-weight: bold;">devcon (64-bit)</a>;</li><li><b><a href="http://igordcard.googlecode.com/files/run_fear.bat">the script</a></b>;</li></ol>Follow the steps:<br /><ol><li>Extract the&nbsp;<code>devcon</code>&nbsp;executable to the game directory (where the game executable&nbsp;is);</li><li>Copy the script also to the game directory;</li><li>The script is only ready for the multiplayer version of F.E.A.R., or F.E.A.R. Combat. Edit the script with a text editor and change <code>FEARMP.EXE</code> to the desired game executable;</li><li>Create a shortcut to the desktop and change its icon if you want... you will be playing the game using the script from now on;</li><li>Make sure you run it as an administrador and let UAC (User Account Control) proceed. Right-click the script, select Compatibility and check "Run this program as an administrator";</li></ol>Troubleshooting:<br /><ol><li>You can mess with the script until it fits your system properly, in case your hardware isn't compatible with the script, though I am using the vendor ID <code>0x046D</code>, which is Logitech's;</li><li>You can lose all keyboard and mouse input to your computer in case the script doesn't fit your hardware properly. If that happens, grab another mouse or keyboard, go to the Device Manager and enable all Human Interface Devices;</li><li>The mouse may stop working for one or two seconds when the script is being executed, but that's normal.</li></ol><b>References</b><br /><br /><ol><li><a href="http://pcgamingwiki.com/wiki/F.E.A.R.#Logitech.2FFPS_fix">F.E.A.R. - Logitech/FPS fix</a></li><li><a href="http://forums.steampowered.com/forums/showthread.php?p=20708331">F.E.A.R - Low FPS + random freezes</a></li><li><a href="http://forums.steampowered.com/forums/showthread.php?t=1279444">F.E.A.R. - FPS / Logitech fix</a></li><li><a href="http://hardforum.com/showthread.php?t=1548240">FEAR Horrible FPS Issue</a></li><li><a href="http://forums.logitech.com/t5/Mice-Hardware/G5-G7-G15-FEAR-Solved-F-E-A-R/td-p/23474">G5/G7/G15 + FEAR ! Solved ! (F.E.A.R.)</a></li></ol>